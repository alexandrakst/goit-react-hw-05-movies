"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[528],{315:function(t,e,n){n.d(e,{CN:function(){return f},Kp:function(){return h},LP:function(){return o},g_:function(){return x},sO:function(){return d}});var r=n(861),a=n(757),c=n.n(a),u=n(243),s="https://api.themoviedb.org/3/",i="931e7fb1a09f8bcd023c19a0e53dc26e";function o(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"trending/movie/day?api_key=").concat(i));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"search/movie?api_key=").concat(i,"&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"movie/").concat(e,"?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},528:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(861),a=n(439),c=n(757),u=n.n(c),s=n(87),i=n(791),o=n(315),p=n(689),f={},l=n(184);function h(t){var e=t.movies,n=(0,p.TH)();return(0,l.jsx)("ul",{className:f.list,children:e.map((function(t){return(0,l.jsx)("li",{children:(0,l.jsx)(s.rU,{className:f.link,to:"/movies/".concat(t.id),state:n,children:t.title})},t.id)}))})}function v(){var t,e=(0,i.useState)(""),n=(0,a.Z)(e,2),c=n[0],p=n[1],f=(0,i.useState)(null),v=(0,a.Z)(f,2),d=v[0],m=v[1],x=(0,s.lr)(),y=(0,a.Z)(x,2),k=y[0],w=y[1],g=null!==(t=k.get("query"))&&void 0!==t?t:"";return(0,i.useEffect)((function(){var t=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.CN)(g);case 3:e=t.sent,m(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[g]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.Suspense,{fallback:(0,l.jsx)("h1",{children:"Loading..."}),children:[(0,l.jsxs)("form",{onSubmit:function(t){var e;(t.preventDefault(),c)?(w(""!==(e=c)?{query:e}:{}),p("")):alert("Please enter a search query to fing movies")},children:[(0,l.jsx)("input",{type:"text",value:c,onChange:function(t){p(t.target.value)}}),(0,l.jsx)("button",{type:"submit",children:"search"})]}),null!==d&&0!==d.length&&(0,l.jsx)(h,{movies:d})]})})}}}]);
//# sourceMappingURL=528.6208bf42.chunk.js.map