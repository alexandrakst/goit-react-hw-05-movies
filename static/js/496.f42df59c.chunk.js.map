{"version":3,"file":"static/js/496.f42df59c.chunk.js","mappings":"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","sources":["api/Api.js","webpack://react-homework-template/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '931e7fb1a09f8bcd023c19a0e53dc26e';\n\nexport async function trendingMovies() {\n  const response = await axios.get(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n  );\n\n  return response.data.results;\n}\n\nexport async function movieQuerySearch(query) {\n  const response = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}`\n  );\n\n  return response.data.results;\n}\n\nexport async function creditsById(id) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`\n  );\n\n  return response.data.cast;\n}\n\nexport async function movieById(id) {\n  const response = await axios.get(`${BASE_URL}movie/${id}?api_key=${API_KEY}`);\n\n  return response.data;\n}\n\nexport async function reviewsById(id) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`\n  );\n\n  return response.data.results;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"movieInfoLayout\":\"MovieInfo_movieInfoLayout__0cmn9\",\"movieInfo\":\"MovieInfo_movieInfo__LxIpr\"};","import PropTypes from 'prop-types';\nimport css from './MovieInfo.module.css';\n\nexport default function MovieInfo({ movie }) {\n  const {\n    poster_path: posterPath,\n    title,\n    release_date: releaseDate,\n    overview,\n    vote_average: voteAverage,\n    genres,\n  } = movie;\n\n  const vote = Math.round(voteAverage);\n\n  const getFullYear = dateString => {\n    const date = new Date(dateString);\n    return date.getFullYear();\n  };\n\n  return (\n    <div className={css.movieInfoLayout}>\n      <img\n        src={`https://image.tmdb.org/t/p/original/${posterPath}`}\n        alt={title}\n        height=\"400\"\n      />\n      <div className={css.movieInfo}>\n        <h2>\n          {title} ({getFullYear(releaseDate)})\n        </h2>\n        <p>\n          User Score: <span>{vote}</span>\n        </p>\n        <h3>Overview</h3>\n        <p>{overview}</p>\n        <h3>Genres</h3>\n        <p>{genres?.reduce((acc, genre) => acc + genre.name + ' ', '')}</p>\n      </div>\n    </div>\n  );\n}\n\nMovieInfo.propTypes = {\n  movie: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__EbgQo\",\"movieDetailsLi\":\"MovieDetails_movieDetailsLi__gqT88\",\"movieDetailsBtn\":\"MovieDetails_movieDetailsBtn__kML+H\",\"movieDetailsUl\":\"MovieDetails_movieDetailsUl__B7EnZ\",\"movieDetailsBackBtn\":\"MovieDetails_movieDetailsBackBtn__Eavbe\"};","import { Suspense, useEffect, useState, useRef } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport MovieInfo from 'components/MovieInfo/MovieInfo';\nimport { movieById } from 'api/Api';\nimport css from './MovieDetails.module.css';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const location = useRef(useLocation());\n\n  const backLinkLocationRef = useRef(location.state);\n\n  const getMovieInfo = async movieId => {\n    if (!movieId) return;\n\n    try {\n      const movieInfo = await movieById(movieId);\n      setMovie(movieInfo);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getMovieInfo(movieId);\n  }, [movieId]);\n\n  return (\n    <>\n      {movie && (\n        <div>\n          <Link\n            className={css.movieDetailsBackBtn}\n            to={backLinkLocationRef.current ? backLinkLocationRef.current : '/'}\n          >\n            Go back\n          </Link>\n          <MovieInfo movie={movie} />\n        </div>\n      )}\n      <div className={css.movieDetails}>\n        <h3>Additional information</h3>\n        <ul className={css.movieDetailsUl}>\n          <li className={css.movieDetailsLi}>\n            <Link\n              className={css.movieDetailsBtn}\n              to={`/movies/${movieId}/cast`}\n            >\n              Cast\n            </Link>\n          </li>\n          <li className={css.movieDetailsLi}>\n            <Link\n              className={css.movieDetailsBtn}\n              to={`/movies/${movieId}/reviews`}\n            >\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n}\n"],"names":["BASE_URL","API_KEY","trendingMovies","axios","response","data","results","movieQuerySearch","query","creditsById","id","cast","movieById","reviewsById","MovieInfo","dateString","movie","posterPath","poster_path","title","releaseDate","release_date","overview","voteAverage","vote_average","genres","vote","Math","round","className","css","src","alt","height","Date","getFullYear","reduce","acc","genre","name","MovieDetails","useState","setMovie","movieId","useParams","location","useRef","useLocation","backLinkLocationRef","state","getMovieInfo","movieInfo","console","log","useEffect","to","current","Suspense"],"sourceRoot":""}